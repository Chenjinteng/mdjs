# Mdjs开发手册
> Mdjs是一个轻量级的Js的Markdown文件解析器

---
文档更新时间:`2015年12月03日`
作者:`刘越(hangxingliu)`

[TOC]

## 开源声明

Mdjs遵循[Apache Licence 2.0](LICENSE)

> 允许使用在商业应用中,允许通过修改来满足实际需求\(但需要在被修改的文件中说明\).

## 核心类

	window.Mdjs

## 目前支持

- **标题**\(支持右端有\#,允许行内样式\)
- **引用**\(除了第一行引用,紧接着的引用文本可以不用>符号\)
- **目录**\(TOC,生成的目录可以自动去掉标题中的样式\)
- **图片**
- **粗体,斜体**\(行内样式可以叠加\)
- **超链接**
- **有序列表,无序列表**\(支持:`-*数字`\)
- **代码**\(行内代码,\`\`\`代码块,用tab键组成的代码块\)
- **转义字符**
- **HTML标签**
- **水平分割线**\(---,\*\*\*,___\)

## 暂不支持

1. 让图片,超链接的URL不进行转义
2. 在一行文本下面假如===,----形成标题
3. 表格
4. < >格式的链接
5. 不转义表示\(,\)...


## 一些概念

`整行样式` : 比如标题,列表,引用,代码....

`行内样式` :	比如加粗,倾斜,行内代码...

## 解析原理

### 主线

1. `Mdjs.md2html`:负责拆解Markdown文本成一行一行
2. `Mdjs.handlerLines`:负责将一行一行的Markdown语句解析
3. `Mdjs.handlerInline`:负责将一行没有了其他例如标题,引用这些头部标记的Markdown语句\(即解析一些行内样式\)

### 副线

- `Mdjs._isHr`
- `Mdjs._isAList`
- `Mdjs._leftSpace`
- `Mdjs.handlerTOC`
- `Mdjs.handlerListEnd`
- `Mdjs.handlerList`

### 栈

- 处理列表的时候使用
- 其实在输出TOC目录的时候也用到了一个在函数内的栈结构


## 开发参考资料

> [Markdown 语法说明 (简体中文版)](http://www.appinn.com/markdown/)
> 